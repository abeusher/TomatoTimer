<html>
<head>
    <title>tomato timer</title>
    <script type="text/javascript" src="contrib/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="contrib/q.js"></script>
    <script type="text/javascript" src="lib/js/TimeAccess.js"></script>
    <script type="text/javascript" src="lib/js/History.js"></script>
    <script type="text/javascript" src="lib/js/Timer.js"></script>
    <script type="text/javascript" src="lib/js/TimerUI.js"></script>

    <link href="lib/css/main.css" rel="stylesheet" type="text/css" />
</head>
<body>
    <div id="outer">
        <h1>tomato timer</h1>
        <div id="timer"></div>
        <div id="controls">
            <button id="button-start">Start</button>
            <button id="short-break">Short break</button>
            <button id="long-break">Long break</button>
            <button id="interruption">'</button>
            <button id="stop">Stop</button>
        </div>

        <div id="history"></div>
        <audio id="alarm" src="lib/alarm.wav" preload="auto"></audio>
    </div>

<script type="text/javascript">
var tt = window.tt || {};

(function(){
var exports = tt;

exports.timeWork = 25 * 60;
exports.timeShortBreak = 5 * 60;
exports.timeLongBreak = 15 * 60;

exports.run = function() 
{
    var timer = window.timer = new exports.TimerUI({ 
        id: "timer",
        alarmId: "alarm"
    });

    var history = new exports.History({ id: "history", load: true });

    $("#button-start").click(function() {
        timer.start(exports.timeWork);
        history.add("Work");
    });

    $("#short-break").click(function() {
        timer.start(exports.timeShortBreak);
        history.add("Short break");
    });

    $("#long-break").click(function() {
        timer.start(exports.timeLongBreak);
        history.add("Long break");
    });

    $("#interruption").click(function() { 
        history.add("Interruption");
    });

    $("#stop").click(function() {
        timer.stop();
        history.add("Stop");
    });
};

})();

$(document).ready(tt.run);

</script>
</body>
</html>
